=head1 NAME

B<HashCp> - Hash and copy the contents of a file or stdin.

=head1 SYNOPSIS

B<hashcp> B<{source|-}> B<target>

Note: Command line arguments are position dependent.

=head1 DESCRIPTION

B<HashCp> is a utility that hashes a file as it is being copied to new
name and/or location.  The output produced by this utility is roughly
equivalent to FTimes output produced with the following FieldMask:

    none+size+md5+sha1

It is not exactly equivalent to FTimes output because the name field
is not encoded and it may contain a relative path depending on how the
B<target> file was specified.

=head1 MODES OF OPERATION

Currently, B<HashCp> only has one mode of operation, which is given in
the SYNOPSIS.

=head1 RETURN VALUES

Upon successful completion, a value of B<0> (B<XER_OK>) is returned.
Otherwise, one of the following error codes is returned:

=over 5

=item *

B<1 => B<XER_Usage>

=item *

B<2 => B<XER_Abort>

=back

=head1 EXAMPLES

=head2 Example 1. Standard hash and copy operation

This example demonstrates how to hash a file called 'out' (in the
current directory) and copy it to '/tmp/out'.

    hashcp out /tmp/out

=head2 Example 2. Hash and copy with input from echo(1)

This example demonstrates how to hash stdin and copy it to a file
called 'out.echo'.  The data for stdin will be generated by the
echo(1) command.

    echo "This is a test." | hashcp - out.echo

=head2 Example 3. Hash and copy with input from dd(1)

This example demonstrates how to hash stdin and copy it to a file
called 'out.zero'.  The data for stdin will be generated by the dd(1)
command reading from /dev/zero.

    dd if=/dev/zero bs=32k count=1 | hashcp - out.zero

=head1 SEE ALSO

cp(1), ftimes(1)

=head1 AUTHOR

Klayton Monroe

=head1 HISTORY

This utility was initially written to make the process of copying and
validating files more efficient.  For example, suppose you need to
archive some files for long-term storage (e.g., copy them to an
external drive).  In that case, you may also want to verify the
integrity of those files before you store the drive away in your
evidence locker.  This utility allows you to do both.

This utility first appeared in B<FTimes> 3.9.0.

